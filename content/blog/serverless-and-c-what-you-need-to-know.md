---
title: Serverless And C# - What You Need To Know
description: Before this innovation, developers had to worry about the resources powering their code. Since the launch of serverless computing, the developer’s focus on operating-system and hardware architecture is now a thing of the past.
date: 2018-07-08T12:00:00.000Z
frontImage: "2018-07-09/azure_functions-cloud.png"
thumbnail: "images/blog/2018-07-09/azure_functions-cloud.png"
authorlink: 'https://twitter.com/@johndemian'
author: John Demian
author_image: '/images/team/john.jpg'
blog: ["Serverless", "C#"]
---

The world of cloud computing has been revolutionized by a solution called <b>serverless computing</b>. It has been an absolute joy for developers to use.

Before this innovation, developers had to worry about the resources powering their code. Since the launch of serverless computing, the developer’s focus on operating-system and hardware architecture is now a thing of the past. It handles all the server management for you while you focus on what you do well — writing good quality code.

Currently, there are various serverless or Function-as-a-Service (FaaS) offerings but at the time of writing this post, two major serverless computing infrastructures support C# and .NET. They are<a href="https://aws.amazon.com/lambda/"> AWS Lambda</a> by Amazon and<a href="https://azure.microsoft.com/en-us/services/functions/"> Azure Functions</a> by Microsoft and we will be diving into how you can work with each of them as a C# developer should you choose to go with any.

<i>In case you are new to serverless computing or need to dig deep into the origins and evolutions of serverless then check out this</i><a href="https://dashbird.io/blog/origin-of-serverless/"> <i>article</i></a>.

<center>![Serverless And C# - What You Need To Know](/images/blog/2018-07-09/azure functions.jpg)</center>

<h2>Enter Azure Functions.</h2>

<h1><b>Using C# with Azure Functions</b></h1>

Two important prerequisites need to be met to build Azure Functions applications with C#:
<ol>
 	<li>Have an active Microsoft Azure subscription. If you don’t have one already, you can<a href="https://azure.microsoft.com/en-us/free/"> create a free account</a>.</li>
 	<li>Get an Azure Storage account. If you don’t have this too, you can create a storage account by signing into the <a href="https://portal.azure.com/">Azure portal</a></li>
</ol>
As a C# developer, you are already familiar with the various tools for building your applications which include Visual Studio Code and Visual Studio IDE. Both tools help create applications with Azure Functions, depending on whichever one you are most comfortable with.



Let’s dig a little deeper into these two tools:


<center>![Serverless And C# - What You Need To Know](/images/blog/2018-07-09/vscode-extensions marketplace1.png)</center>

<h1>Visual Studio Code</h1>

VIsual Studio Code is a lightweight but powerful code editor with different versions available for Windows, Linux and MacOS.



To build apps for Azure functions, you will need to get Azure Tools for Visual Studio Code which will give you convenient commands through which you can access or create resources directly from the VS Code editor.



To set up Azure Tools, install the<a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.vscode-azureextensionpack"> Azure Extension Pack</a> by firing up your editor and navigating to the extension marketplace on the left side menu. The extension marketplace interface in VS Code should look like this:



When you are done with the setup of Azure for VS Code, login to Azure from the code editor by firing the Command Palette with the commands <b>CTRL</b>+<b>Shift</b>+<b>P</b> and typing “<b>Azure: Login</b>” in the text field that appears. Click the corresponding result that appears and a code will be generated by the editor with instructions on how to complete the process.



Another important extension if you will be developing in C# with VS Code is the <a href="https://marketplace.visualstudio.com/items?itemName=ms-vscode.csharp">C# for Visual Studio Code</a>. As at the time of this writing, the extension supports basic debugging capabilities full details of which can be found <a href="http://aka.ms/vscclrdebugger">here</a>.


<center>![Serverless And C# - What You Need To Know](/images/blog/2018-07-09/vs installer azure ent.png)</center>

<h1>Visual Studio 2017 IDE</h1>

From version 15.5, Azure Development workload comes bundled with Azure Functions tools. This implies if you plan on installing the latest version of Visual Studio 2017, you need to include Azure Development workload in your installation process.


Your installation window should look like this:



Once installation is complete, sign in to your Microsoft account in Visual Studio and create a new Azure Functions project and you are good to go.

<center>![Serverless And C# - What You Need To Know](/images/blog/2018-07-09/azure fuctions vs.png)</center>


<a href="https://docs.microsoft.com/en-us/azure/azure-functions/functions-develop-vs"><i>Image Source</i></a>.



Now that we’ve highlighted what you need to know if you want to build serverless functions in C# with Azure functions, let’s move over to discussing what you need to begin running serverless apps on the AWS Lambda serverless framework.

<center>![Serverless And C# - What You Need To Know](/images/blog/2018-07-09/IMG-20180609-WA0000.jpg)</center>

<h1><b>Using C# with AWS Lambda</b></h1>
AWS Lambda is the compute part of the AWS serverless architecture, but contains zero administration. It is one of the most popular options for serverless and though it was launched by AWS in 2014, support for the .NET Core 1.0 runtime was announced in 2016 and the <a href="https://aws.amazon.com/about-aws/whats-new/2018/01/aws-lambda-supports-c-sharp-dot-net-core-2-0/">.NET Core 2.0 runtime</a> in 2018. At this point, it is important to note .NET Core is different from the .NET framework and here are a few reasons AWS chose .NET Core over the .NET framework
<ul>
 	<li>.NET Core is the new redesigned version of .NET that focuses on more modern applications and in particular, cloud-enabled applications which has significant benefits when writing Lambda functions</li>
 	<li>.NET Core was designed with a modularized design which means you only get to include the part of .NET you will need when writing your Lambda functions. This leads to lesser memory usage and since Lambda charges you for memory usage, lesser memory demands by your functions will lead to lesser costs to you for using AWS Lambda.</li>
 	<li>.NET Core is open-source and has been validated against Amazon Linux - the underlying platform for AWS Lambda making it very possible for AWS to respond to security issues that might arise with using it.</li>
 	<li>Lastly and more importantly, with .NET Core, you can now write your C# code on any platform as opposed to earlier days with .NET where you could write C# code on only Windows environments</li>
</ul>


To begin building Lambda functions in C# with Visual Studio you will need to understand AWS Lambda has a laid-down pattern for authoring code for your Lambda function. This pattern includes the following concepts:
<ul>
 	<li style="list-style-type: none">
<ul>
 	<li><b>Handler</b> - the handler function is a function called by AWS Lambda to begin execution of your Lambda function. AWS Lambda passes any input data into this function as the first parameter and passes a context object as a second parameter.</li>
 	<li><b>Context Object</b> - is the second parameter passed into the handler function and it provides information through which your code interacts with AWS Lambda.</li>
    <li><b>Logging</b> - a good logging system is an important component of a well-written function. AWS Lambda writes these logs to CloudWatch Logs.</li>
    <li><b>Exceptions</b></li>
</ul>

</li>
</ul>
&nbsp;

Now that we know the framework for writing for AWS Lambda, let’s see how all this work together.
&nbsp;
<h2>Writing C# code for AWS Lambda with Visual Studio</h2>

A few prerequisites are required to begin writing code for Lambda functions:
<ul>
 	<li>Have an AWS account. If you don’t have one, you can create an AWS account <a href="https://portal.aws.amazon.com/billing/signup?nc2=h_ct&amp;redirect_url=https%3A%2F%2Faws.amazon.com%2Fregistration-confirmation#/start">here</a></li>
 	<li>Download and Install <a href="https://www.visualstudio.com/vs/">Visual Studio IDE 2017</a>.</li>
</ul>
<b><i>Note: older versions of Visual Studio will require an additional installation of </i></b><a href="https://www.microsoft.com/net/download/core"><b><i>.NET Core for Windows</i></b></a>
<ul>
 	<li>Download and Install the <a href="https://aws.amazon.com/visualstudio/">AWS Toolkit for Visual Studio</a></li>
</ul>

Once you’ve installed all prerequisites, open Visual Studio and fill in the AWS credentials on the <b>Getting Started with the AWS Toolkit for Visual Studio</b> window displayed next to the Start Page tab. The credentials (Access Key and Secret Key) can be gotten by following the instructions outlined in the window
&nbsp;
<center>![Serverless And C# - What You Need To Know](/images/blog/2018-07-09/aws-visual-studio-setup.png)</center>

With all set, let’s move on to build our Lambda project.
<h3>Create a .NET Core Lambda project</h3>
<ul>
 	<li>Open Visual Studio IDE and go to <b>File</b> &gt; <b>New</b> &gt; <b>Project</b></li>
 	<li>On the Installed Pane, Click Visual C# and then AWS Lambda Project (.NET Core) as shown below:</li>
</ul>

<ul>
 	<li>Fill out the project name with a name of your choice and click OK, leaving the defaults as they are then move on to selecting the type of Lambda project you want to build.</li>
</ul>
&nbsp;

<a href="https://gooroo.io/GoorooThink/Article/17421/Write-Serverless-Functions-Using-AWS-Lambda-And-C/29348#.WyMbhqdKjIX"><i>Image Source</i></a>
<ul>
 	<li>Click Finish to create the project and review the project code and structure.</li>
 	<li>An important file created with your project is the <i>aws-lambda-tools-defaults.json</i> file where you set your function handler as well as other options. The contents of the file should look like this:</li>
</ul>
<h3>Publishing to AWS Lambda</h3>
The next step to running our code on AWS Lambda is to publish it. This is done after the code has been reviewed and you are convinced it is good to go. The following steps outline what you need to do to get your code published.
<ul>
 	<li>On the right side you can see the project. There in the Solution Explorer click <b>Publish to AWS Lambda</b></li>
</ul>
<ul>
 	<li>Next fill in the Function Name in the <b>Upload to AWS Lambda</b> window that appears. You can give any preferred name to your function at this point. Once you are done, click <b>Next</b>.</li>
</ul>
<ul>
 	<li>On the <b> Advanced Function Details</b> page fill the Role Name section with a role associated with your AWS account. This is an important field to fill before we can proceed to the next stage of the upload process. Other sections include the VPC section (only useful if your function will be accessing resources on Amazon VPC) and the Environment section.</li>
 	<li>Once your function begins uploading, a window is displayed showing the status of the upload after which a function view page is displayed where you can test your function and view logs respectively.</li>
 	<li>The <b>Invoke</b> button begins testing the function while <b>Log output</b> displays output from the test. These logs are also saved into CloudWatch Logs in AWS where more details on the logs can be viewed.</li>
</ul>
&nbsp;
<h1>Conclusion</h1>
Now, you have a quick peek into what you need to know to build and publish serverless applications with the powerful C# programming language and though at Dashbird, we are more inclined towards AWS Lambda, there is nothing stopping you from exploring both the Microsoft Azure functions and AWS Lambda options in getting that serverless infrastructure for your applications.

&nbsp;